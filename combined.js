function extend(t,e){return Object.keys(e).forEach(function(a){t[a]=e[a]}),t}function hasClass(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function addClass(t,e){t.classList?t.classList.add(e):hasClass(t,e)||(t.className+=" "+e)}function removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("\\b"+e+"\\b","g"),"")}var initValidState={patternMismatch:!0,tooLong:!0,tooShort:!0,typeMismatch:!0,valid:!1,valueMissing:!0},FormMixin={data:function(){return{inFocus:null,steps:this.$root.$refs.activePage.$data.steps,activeInputs:null}},computed:{nextStep:function(){var t=this.steps.indexOf(this.activeStep);return t<this.steps.length-1?this.steps[t+1]:this.submitText}},methods:{initPlacesAutocomplete:function(){if(window.google){var t=this.$els.location;new google.maps.places.Autocomplete(t,{types:["geocode"]});t.placeholder=""}},updateValidityState:function(t){var e=t.target.value.trim(),a=["patternMismatch","tooLong","tooShort","typeMismatch","valid","valueMissing"],i=t.target.validity;for(var n in a)this.validityState[t.target.name][a[n]]=i[a[n]];if(!t.target.validity.tooShort){var s=+t.target.getAttribute("minlength");if(e.length<s)t.target.setCustomValidity("Should be at least "+s+" characters long."),this.validityState[t.target.name].tooShort=!0;else{var o=t.target.validationMessage,r=t.target.validity.customError,c=r&&!o.match(/characters long./)?o:"";t.target.setCustomValidity(c),this.validityState[t.target.name].tooShort=!1}}""===e&&(this.validityState[t.target.name].valueMissing=!0)},setInFocus:function(t){this.inFocus=t.target.name,this.updateValidityState(t)},setActiveInputs:function(){this.activeInputs=Array.prototype.slice.call(this.$els.form.getElementsByTagName("input")).filter(function(t){return!t.disabled})},openCloseDatePickers:function(t){var e=t.target.name,a="inline-block"===this.startDatePicker.container.style.display,i="inline-block"===this.endDatePicker.container.style.display;"start-date"==e?(this.endDatePicker.hide(),a||this.startDatePicker.show()):"end-date"==e?(this.startDatePicker.hide(),i||this.endDatePicker.show()):(this.startDatePicker.hide(),this.endDatePicker.hide())},handleTabIndex:function(t){this.activeInputs||this.setActiveInputs();var e=this.activeInputs.indexOf(document.getElementsByName(this.inFocus)[0]);return e===-1?(this.$els.submit.click(),!1):void(e<this.activeInputs.length-1?this.activeInputs[e+1].focus():this.$els.submit.click())},"continue":function(){if(this.$els.form.checkValidity())if(this.saveSection(),this.activeStep==this.steps[this.steps.length-1])this.save(function(){router.go({path:"/"})});else{this.activeStep=this.nextStep;var t=this;setTimeout(function(){t.setActiveInputs(),t.activeInputs[0].focus()},250)}},saveSection:function(){this.setActiveInputs();var t=this;this.activeInputs.forEach(function(e){t.formData[e.name]=e.value})},save:function(t){var e=localStorage[this.plural]?JSON.parse(localStorage[this.plural]):[];e.push(this.formData),localStorage[this.plural]=JSON.stringify(e),this.$emit("save",this.plural,this.formData),t()}},ready:function(){var t=this;setTimeout(function(){t.$els.form.getElementsByTagName("input")[0].focus()},400)}},App=Vue.extend({name:"App",data:function(){return{activeUser:"jane.doe@example.com",isLoggedIn:!1}},ready:function(){this.$el.focus()},methods:{log:function(t){console.log(t)}},events:{"new-user":function(t){this.activeUser=t,this.isLoggedIn=!0}}}),AccountSection=Vue.extend({name:"AccountSection",template:"#account-section",props:["activeUser","isLoggedIn"],computed:{isRegistering:function(){return"/create-account"===this.$route.path}}}),EventDisplay=Vue.extend({name:"EventDisplay",template:"#event-display",props:["currentEvent"]}),StepsMenu=Vue.extend({name:"StepsMenu",template:"#steps-menu",props:["activeStep","progress"],data:function(){return{steps:this.$root.$refs.activePage.$data.steps}},methods:{navigate:function(t){this.isLocked(t)||(this.activeStep=t);var e=this;setTimeout(function(){e.$root.$refs.activePage.$refs.multiStepForm.$refs.activeForm.setActiveInputs()},500)},isLocked:function(t){return this.steps.indexOf(t)>=this.steps.indexOf(this.activeStep)},isActive:function(t){return t===this.activeStep}}}),CreateEvent=Vue.extend({name:"CreateEvent",template:"#create-event-form",props:["activeStep"],mixins:[FormMixin],data:function(){return{plural:"events",formData:{"event-name":"","event-type":"","event-host":"",location:"","start-date":"","end-date":"","invite-email":""},validityState:{"event-name":initValidState,"event-type":initValidState,"event-host":initValidState,location:initValidState,"start-date":initValidState,"end-date":initValidState,"invite-email":initValidState},submitText:"Submit your event",startDatePicker:null,endDatePicker:null}},methods:{logStuff:function(t){console.log("msg ",t)}},ready:function(){this.startDatePicker=rome(this.$els.startDate,{appendTo:this.$els.startDatePickerHolder,dateValidator:rome.val.beforeEq(this.$els.endDate),autoClose:!1,autoHideOnBlur:!1,autoHideOnClick:!1,inputFormat:"DD/MM/YYYY (HH:mm)",invalidate:!0,max:null,min:rome.moment(),weekStart:1}),this.endDatePicker=rome(this.$els.endDate,{appendTo:this.$els.endDatePickerHolder,dateValidator:rome.val.afterEq(this.$els.startDate),autoClose:!1,autoHideOnBlur:!1,autoHideOnClick:!1,inputFormat:"DD/MM/YYYY (HH:mm)",invalidate:!0,max:null,min:rome.moment(),weekStart:1});var t=this;this.endDatePicker.once("show",function(e){var a=t.startDatePicker.getDate();a&&this.setValue(a)}),this.initPlacesAutocomplete()}}),CreateAccount=Vue.extend({name:"CreateAccount",template:"#create-account-form",props:["activeStep"],mixins:[FormMixin],data:function(){return{plural:"users",users:null,formData:{username:"",email:"",password:"","password-retype":"",location:"",company:"","job-title":""},validityState:{username:extend(initValidState,{usernameIsUnique:!1}),email:initValidState,password:extend(initValidState,{hasNumber:!1,hasCapitalLetter:!1,hasSpecialCharacter:!1}),"password-retype":extend(initValidState,{passwordsMatch:!1}),location:initValidState,company:initValidState,"job-title":initValidState},submitText:"Finish and sign in"}},methods:{validateUsername:function(t){this.users.indexOf(t.target.value)===-1?(this.validityState.username.usernameIsUnique=!0,t.target.setCustomValidity("")):(this.validityState.username.usernameIsUnique=!1,t.target.setCustomValidity("Username is already taken.")),this.updateValidityState(t)},validatePassword:function(t){var e=t.target.value;if(e){this.validityState.password.hasNumber=/[0-9]/.test(e),this.validityState.password.hasCapitalLetter=/[A-Z]/.test(e);var a=/[!"#$%&'()*+,\-.\/:;<=>?@[\\\]\^_`{\|}~]/;this.validityState.password.hasSpecialCharacter=a.test(e),this.validityState.password.hasNumber&&this.validityState.password.hasCapitalLetter&&this.validityState.password.hasSpecialCharacter?t.target.setCustomValidity(""):t.target.setCustomValidity("Password should contain a number, capital letter and special character.")}else t.target.setCustomValidity("");this.updateValidityState(t)},validatePasswordRetype:function(t){t.target.value===document.getElementsByName("password")[0].value?(this.validityState["password-retype"].passwordsMatch=!0,t.target.setCustomValidity("")):(this.validityState["password-retype"].passwordsMatch=!1,t.target.setCustomValidity("Passwords don't match")),this.updateValidityState(t)}},events:{save:function(t,e){this.$dispatch("new-user",e.email)}},created:function(){this.users=localStorage[this.plural]?JSON.parse(localStorage[this.plural]).map(function(t){return t.username}):[]},ready:function(){this.initPlacesAutocomplete()}}),MultiStepForm=Vue.extend({name:"MultiStepForm",template:"#multi-step-form",props:["activeStep","activeForm"],components:{"create-event":CreateEvent,"create-account":CreateAccount}}),Page=Vue.extend({name:"Page",template:"#page-template"}),HomePage=Vue.extend({name:"HomePage",template:"#home-page-template",data:function(){return{pageName:"Home Page",events:null,currentEvent:null,currentIndex:0}},components:{page:Page,"account-section":AccountSection,"event-display":EventDisplay},methods:{next:function(){this.events[this.currentIndex+1]?this.currentIndex+=1:this.currentIndex=0,this.currentEvent=this.events[this.currentIndex]},prev:function(){this.currentIndex?this.currentIndex-=1:this.currentIndex=this.events.length-1,this.currentEvent=this.events[this.currentIndex]},tapHandler:function(t){function e(t){removeClass(this,"animate"),this.removeEventListener("animationend",e),this.removeEventListener("animationend",e),this.removeEventListener("webkitAnimationEnd",e),this.removeEventListener("oanimationend",e),this.removeEventListener("MSAnimationEnd",e)}var a=t.target.parentElement.parentElement;a.addEventListener("animationend",e),a.addEventListener("webkitAnimationEnd",e),a.addEventListener("oanimationend",e),a.addEventListener("MSAnimationEnd",e),addClass(a,"animate")}},created:function(){var t=[{"event-name":"Mystery land","event-type":"Dance festival","event-host":"Id&t",location:"Haarlemmermeer","start-date":"08/26/2016","end-date":"08/27/2016","invite-email":[]},{"event-name":"Lowlands","event-type":"Music festival","event-host":"Lowlands B.V.",location:"Walibi Flevoland","start-date":"07/26/2016","end-date":"07/27/2016","invite-email":[]},{"event-name":"Fast Forward Dance Parade","event-type":"Dance festival","event-host":"Fast Forward B.V.",location:"Havenkade Rotterdam","start-date":"06/26/2016","end-date":"06/27/2016","invite-email":[]}];this.events=localStorage.events?JSON.parse(localStorage.events):t,localStorage.events=JSON.stringify(this.events),this.currentEvent=this.events[this.events.length-1]}}),CreateEventPage=Vue.extend({name:"CreateEventPage",template:"#create-event-page-template",data:function(){return{pageName:"Create Event Page",steps:["Create your event","Set the details","Invite your friends"],progress:0,activeStep:""}},components:{page:Page,"account-section":AccountSection,"steps-menu":StepsMenu,"multi-step-form":MultiStepForm},ready:function(){this.activeStep=this.steps[0]}}),CreateAccountPage=Vue.extend({name:"CreateAccountPage",template:"#create-account-page-template",data:function(){return{pageName:"Create Account Page",steps:["Create your account","Choose a password","Complete your profile"],progress:0,activeStep:""}},components:{page:Page,"account-section":AccountSection,"steps-menu":StepsMenu,"multi-step-form":MultiStepForm},ready:function(){this.activeStep=this.steps[0]}}),router=new VueRouter({});router.map({"/":{component:HomePage},"/create-event":{component:CreateEventPage},"/create-account":{component:CreateAccountPage}}),router.beforeEach(function(t){window.scrollTo(0,0),t.next()}),router.start(App,"#app"),document.body.style.overflow="hidden",window.onload=function(){document.getElementsByClassName("spinner")[0].style.display="none",document.getElementsByClassName("app")[0].style.opacity=1,document.body.style.overflow="initial"};